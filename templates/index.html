<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="https://unpkg.com/onsenui/css/onsenui.css">
  <link rel="stylesheet" href="https://unpkg.com/onsenui/css/onsen-css-components.min.css">
  <link rel="stylesheet" href="{{ url_for('static', filename='app.css') }}">
  <script src="https://unpkg.com/onsenui/js/onsenui.min.js"></script>
</head>
<body>

  {{ components | safe }}
  {{ shared_dialogs | safe }}

  <!-- dynamic card header template: -->
  <template id="node-data-card-header-template">
    <ons-list-item>
      <div class="left">
        <img id="node-data-card-header-logo" class="list-item__thumbnail" src="">
      </div>
      <div class="center">
        <span id="node-data-card-header-name" class="list-item__title"></span><span id="node-data-card-header-descriptor"  class="list-item__subtitle"></span>
      </div>
    </ons-list-item>
  </template>
  <script>
    var global = global || window;
    var Buffer = Buffer || [];
    var process = process || {
      env: { DEBUG: undefined },
      version: ""
    };
  </script>
  <script type="module" src="{{client_tokens}}"></script>
  <script type="module">
    window.constants = {};
    window.constants.LOGO = "{{ url_for('static', filename='hvym_logo.png') }}";

    var location = "http://www.example.org";
    var secretKey = "this is our super secret key; only we should know it";
    var identifier = "we used our secret key";
    var macaroon = window.MacaroonsBuilder.create(location, secretKey, identifier);

    console.log('!!!!!!')
    console.log(macaroon)

    const WINDOW_KEYPAIR = await window.crypto.subtle.generateKey(
      {
        name: "ECDH",
        namedCurve: "P-384",
      },
      false,
      ["deriveKey"],
    );

    console.log(WINDOW_KEYPAIR.publicKey)
  </script>
  <script src="{{ url_for('static', filename='app.js') }}"></script>
  <script src="{{js}}"></script>
  <script src="{{shared_dialogs_js}}"></script>

</body>
</html>